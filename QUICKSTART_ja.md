# クイックスタートガイド - OSS学習プラットフォーム

このガイドでは、5分でOSSコミットの追跡を始められます。

## インストール（2分）

### ステップ1：リポジトリをクローン

```bash
git clone https://github.com/Kuroakira/deep-code-reader.git
cd deep-code-reader
```

### ステップ2：インストーラーを実行

```bash
./install.sh
```

インストーラーが実行すること：
1. ✅ 依存関係のチェック（Node.js、Python、npm）
2. 📦 MCPサーバーのインストール（GitHub、Notion）
3. ⚙️  Claude Codeの設定
4. 🎯 スキルとコマンドのインストール

---

## Notionデータベースのセットアップ（2分）

### ステップ1：Notionインテグレーションを作成

1. https://www.notion.so/my-integrations にアクセス
2. 「新しいインテグレーション」をクリック
3. 「Deep Code Reader」と名付ける
4. **Internal Integration Secret**をコピー

### ステップ2：データベースを作成

以下のプロパティでNotionに新しいデータベースを作成：

| プロパティ名 | タイプ | 説明 |
|------------|------|------|
| Title | タイトル | コミットタイトル（自動） |
| Commit ID / PR No | テキスト | 完全なコミットハッシュ |
| Type | セレクト | オプション: "Commit" |
| GitHub URL | URL | コミットへのリンク |
| Comment | テキスト | コミットメッセージ |
| Memo | テキスト | あなたのメモ |

### ステップ3：データベースを共有

1. Notionでデータベースを開く
2. 「...」メニュー → 「コネクト」をクリック
3. 「Deep Code Reader」インテグレーションを追加

### ステップ4：データベースIDをコピー

データベースのURLから：
```
https://notion.so/abc123def456?v=...
              ↑↑↑↑↑↑↑↑↑↑↑↑
              これがデータベースID
```

---

## 初回使用（1分）

### ステップ1：Claude Codeを起動

```bash
claude
```

### ステップ2：OSSリポジトリを登録

```
/register-oss https://github.com/expressjs/express --database abc123def456
```

**実行されること：**
- ✅ リポジトリをローカルにクローン
- ✅ プロジェクト設定を保存
- ✅ 総コミット数を表示

**出力：**
```
==================================================
OSSリポジトリが登録されました
==================================================

プロジェクト：express
GitHub：https://github.com/expressjs/express
データベース：abc123def456
ローカルクローン：~/.claude/deep-code-reader/repos/expressjs/express

総コミット数：5847
初期コミット：f7c8d10

==================================================
```

### ステップ3：コミットを追加

```
/add-commits 1 100
```

**実行されること：**
- 📥 コミット1-100を取得（古い順）
- 🔍 重複をチェック
- 💾 Notionデータベースに追加

**出力：**
```
コミット範囲：1 から 100（100コミット）
既存のコミットエントリ：0件
追加するコミット：100
スキップされた重複：0

Notionに100コミットを追加中...
  進捗：10/100
  進捗：20/100
  ...
  進捗：100/100

完了！
  追加：100
  エラー：0
```

### ステップ4：Notionを確認

Notionを開いてコミットを確認！

---

## 日常のワークフロー

```bash
# 現在のプロジェクトを確認
/current-oss

# 次のバッチを追加
/add-commits 101 200

# 利用可能なコミットを一覧
/list-commits --limit 20

# プロジェクトを切り替え
/register-oss https://github.com/facebook/react --database xyz789
/add-commits 1 100
```

---

## ヒント

### 1. 最初から始める
- `/add-commits 1 100`で最初のコミットから開始
- プロジェクトの進化を理解

### 2. バッチで作業
- 一度に100コミットを追加
- `/add-commits 1 100`、次に`/add-commits 101 200`

### 3. 複数プロジェクトを追跡
- 各プロジェクトに独自のNotionデータベースが必要
- `--database`でどれを使うか指定

### 4. メモフィールドを活用
- Notionに自分のメモを追加
- 関連コミットをリンク
- 洞察をドキュメント化

---

## トラブルシューティング

### 「プロジェクトが設定されていません」

```
プロジェクトが設定されていません。実行：/register-oss <url> --database <id>
```

**解決策**：まずプロジェクトを登録してください。

### 「データベースにアクセスできません」

```
エラー：データベースにアクセスできません
```

**解決策**：
1. データベースIDが正しいか確認
2. インテグレーションがデータベースに接続されているか確認
3. データベースを開く → 「...」→「コネクト」→ インテグレーションを追加

### 「範囲が総数を超えています」

```
警告：リクエストされた範囲が総コミット数を超えています
範囲を1から432に調整します
```

**エラーではありません**：コマンドは利用可能なコミットに自動調整します。

### 「重複がスキップされました」

```
スキップされた重複：50
```

**エラーではありません**：既に追加されたコミットは自動的にスキップされます。

---

## 利用可能なコマンド

| コマンド | 説明 | 例 |
|---------|------|-----|
| `/register-oss` | プロジェクト登録 | `/register-oss <url> --database <id>` |
| `/add-commits` | コミット追加 | `/add-commits 1 100` |
| `/current-oss` | 現在のプロジェクト表示 | `/current-oss` |
| `/list-commits` | コミット一覧 | `/list-commits --limit 50` |

---

## アンインストール

```bash
./uninstall.sh
```

- ✅ インストール済みコンポーネントを削除
- ✅ Notionデータは保持
- ✅ 設定バックアップの復元を提供

---

## ヘルプが必要ですか？

- **ドキュメント**：README_ja.mdを参照
- **コマンド**：`commands/`フォルダを確認
- **Issue**：https://github.com/Kuroakira/deep-code-reader/issues

---

**楽しく学習を！🚀**

*コミットを体系的に追跡し、ナレッジベースを構築しましょう。*
